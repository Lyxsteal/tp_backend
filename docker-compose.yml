services:
  api-gateway:
    build:
      context: .
      dockerfile: api-gateway/Dockerfile
    ports: ["8083:8083"] # Puerto p√∫blico de la Gateway (Host:Container)
    environment:
      - SERVER_PORT=8083 # Puerto interno del contenedor


    networks:
      - logistica-net
    depends_on:
      - ms_solicitud
      - ms_rutas

  ms_rutas:
    build:
      context: .
      dockerfile: ms_rutas/Dockerfile
    ports: ["8085:8085"]
    environment:
      - SERVER_PORT=8085
      - APP_SOLICITUD_BASE_URL=http://ms_solicitud:8080
    depends_on:
      - ms_solicitud
    networks:
      - logistica-net

  ms_solicitud:
    build:
      context: .
      dockerfile: ms_solicitud/Dockerfile
    ports: ["8080:8080"]
    environment:
      - SERVER_PORT=8080
    networks:
      - logistica-net

networks:
  logistica-net:
    driver: bridge